<section class="inventory-overview">

  <!-- KPI SECTION -->
  <div class="inventory-overview__kpis">

    <div class="kpi-card kpi-card--primary">
      <span class="kpi-card__label">Total Products</span>
      <strong class="kpi-card__value">{{ totalProducts }}</strong>
      <span class="kpi-card__meta">Active SKUs in stock</span>
    </div>

    <div class="kpi-card">
      <span class="kpi-card__label">Total Stock Units</span>
      <strong class="kpi-card__value">{{ totalStock }}</strong>
      <span class="kpi-card__meta">Units available globally</span>
    </div>

    <div class="kpi-card">
      <span class="kpi-card__label">Stock Value</span>
      <strong class="kpi-card__value">{{ totalValue | currency:'USD':'symbol':'1.0-0' }}</strong>
      <span class="kpi-card__meta">Based on latest cost</span>
    </div>

    <div class="kpi-card kpi-card--warning">
      <span class="kpi-card__label">Low Stock Items</span>
      <strong class="kpi-card__value">{{ lowStockCount }}</strong>
      <span class="kpi-card__meta">Require immediate review</span>
    </div>

  </div>

  <!-- LOW STOCK PREVIEW -->
  <section class="inventory-overview__panel">
    <header class="panel-header">
      <h2 class="panel-header__title">Critical Stock Alerts</h2>
      <a routerLink="/reports" class="panel-header__link">
        View Detailed Reports
      </a>
    </header>

    <div *ngIf="loading" class="loading-message">Loading...</div>

    <div *ngIf="!loading && lowStockItems.length === 0" class="empty-message">
      No low stock items found
    </div>

    <table class="data-table" *ngIf="!loading && lowStockItems.length > 0">
      <thead>
        <tr>
          <th>Product</th>
          <th>SKU</th>
          <th>Warehouse</th>
          <th class="align-right">Available</th>
          <th class="align-right">Min Stock</th>
          <th>Status</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let item of lowStockItems">
          <td>{{ item.productName }}</td>
          <td>{{ item.sku }}</td>
          <td>{{ item.warehouseName }}</td>
          <td class="align-right">{{ item.availableQty }}</td>
          <td class="align-right">{{ item.minStock }}</td>
          <td>
            <span class="status-badge status-badge--low">{{ item.status }}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </section>

</section>
