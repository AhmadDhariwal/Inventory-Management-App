<div class="stock-levels-page">
  <!-- PAGE HEADER -->
  <div class="page-header">
    <h1>Inventory Levels</h1>
    <p>Real-time overview of available stock across warehouses</p>
  </div>

  <!-- ERROR MESSAGE -->
  <div *ngIf="errorMessage" class="error-message">
    <p>{{ errorMessage }}</p>
    <button (click)="loadStockLevels()">Retry</button>
  </div>

  <!-- LOADING STATE -->
  <div *ngIf="loading" class="loading">
    <p>Loading stock levels...</p>
  </div>

  <!-- CONTENT -->
  <div *ngIf="!loading && !errorMessage">
    <!-- FILTER BAR -->
    <div class="filter-bar">
      <input
        type="text"
        placeholder="Search by SKU or product name"
        [(ngModel)]="searchText"
      />

      <select [(ngModel)]="selectedWarehouse" title="Filter by warehouse" aria-label="Filter by warehouse">
        <option *ngFor="let wh of warehouses" [value]="wh">
          {{ wh }}
        </option>
      </select>
    </div>

    <!-- STOCK TABLE -->
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>SKU</th>
            <th>Product</th>
            <th>Category</th>
            <th>Warehouse</th>
            <th>Available</th>
            <th>Reserved</th>
            <th>Reorder Level</th>
            <th>Status</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let item of filteredStock()" (click)="openDrawer(item)" class="clickable-row">
            <td>{{ item.sku }}</td>
            <td>{{ item.productName }}</td>
            <td>{{ item.category || 'N/A' }}</td>
            <td>{{ item.warehouseName }}</td>
            <td>{{ item.availableQty }}</td>
            <td>{{ item.reservedQty  }}</td>
            <td>{{ item.reorderLevel || 'N/A' }}</td>
            <td>
              <span class="status-badge" [ngClass]="item.status?.toLowerCase()">
                {{ item.status }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- <table class="data-table">
    <tr
      *ngFor="let stock of stockLevels"
      (click)="openDrawer(stock)"
      class="data-table__row"
    >
      <td>{{ stock.productName }}</td>
      <td>{{ stock.warehouse }}</td>
      <td>{{ stock.availableQty }}</td>
    </tr>
  </table>

  <div class="drawer-overlay" *ngIf="selectedStock">
    <app-stock-detail-drawer
      [stock]="selectedStock"
      (close)="closeDrawer()">
    </app-stock-detail-drawer>
  </div>

</div> -->
